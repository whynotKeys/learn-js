<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Javascript Lab</title>
    <script src="../js/mylib.js"></script>
    <script>
      window.onload = function () {
        // 문서내의 모든 버튼을 클릭했을때
        // 각각 "btn-0 클릭", "btn-1 클릭", "btn-2 클릭"
        // ... "btn-n 클릭"을 콘솔에 출력하시오.
        const btns = document.querySelectorAll("button");

        // IIFE pattern
        for (var i = 0; i < btns.length; i++) {
          ((num) => {
            btns[i].addEventListener("click", function () {
              console.log(`var btn-${num} 클릭`);
            });
          })(i); // 즉시실행함수의 인자값으로 i 전달
        }

        // ECMA5 forEach
        // Array.prototype.forEach : 배열의 각 요소를 순회하면서 지정한 콜백 함수를 실행
        // 콜백 함수는 첫번 째 인자로 배열의 요소를, 두번 째인자로는 요소의 인덱스를 전달 받는다.
        // [btn1, btn2, btn3].forEach((btn, i) => {});
        // 이렇게 화살표 함수로도 사용 가능 item: 현재 요소, index: 현재 인덱스, array: 배열
        // arr.forEach((item, index, array) => {
        //});
        btns.forEach(function (btn, i) {
          btn.addEventListener("click", function () {
            console.log(`forEach btn-${i} 클릭`);
          });
        });

        // ECMA6 let
        for (let i = 0; i < btns.length; i++) {
          btns[i].addEventListener("click", function () {
            console.log(`let btn-${i} 클릭`);
          });
        }
      };
    </script>
  </head>
  <body>
    <h1>즉시 실행 함수</h1>
    <button>버튼</button>
    <button>버튼</button>
    <button>버튼</button>
  </body>
</html>
